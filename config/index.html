<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style2.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.min.js"></script>
</head>
<style>
body{
    overflow-y: hidden;
}
.loading{
    width: 5rem;
    height: 3rem;
    background: rgba(102, 101, 101, 0.404);
    margin: 0 auto;
    position: absolute;
    bottom:15rem;
    left: 50%;
    margin-left:-2.5rem;
    transition: all 0.5s ease-in 0s; 
    padding-top: .8rem;
    border-radius: .2rem;
    display: none;
    
}
.load{
    /* display: inline-block; */
    width: 2rem;
    height: 2rem;
    border:.2rem solid transparent;
    border-left:.2rem solid springgreen;
    border-right:.2rem solid springgreen;
    margin: 0 auto;
    border-radius: 2rem;
    animation: loading 1.5s infinite;
    

}

@-webkit-keyframes loading {
  from {
    -webkit-transform: rotate(0deg) translateZ(0);
  }
  to {
    -webkit-transform: rotate(360deg) translateZ(0);
  }
}
</style>
<body>
      <div class="containter">
            <div class="header">
                LOGO
            </div>
            <div class="request">
                  <form>
                      <span><input id="name" type="text" name="name" placeholder="ç”¨æˆ·å"></span>
                      <span><input id="pwd" type="text" name="password" placeholder="å¯†ç "></span>
                      <span id="error" style="color: red;font-size: .8rem;"></span>
                      <span><input class="btn" type="button" name="password" value="ç™»é™†"></span>
                      <span id="foot"><a id="zhuce" href="/setuser.html">æ³¨å†Œ</a>|<a id="forgent" href="#">å¿˜è®°å¯†ç !</a></span>
                  </form> 
                
                 
            </div>
           
      </div> 
       <div class="loading">
                <p class="load"></p>   
           </div>
</body>


<script>
    document.onmousedown = function(){
				if(event.button == 2){
					alert("æœ¬ç«™å·²ç¦ç”¨é¼ æ ‡å³å‡»");
					return false;
				}
			}
   
    $(function(){
        let str = 'ä½ åœ¨ç”µè„‘å‰çœ‹è¿™æ®µæ–‡å­—ï¼Œ\nå†™æ–‡å­—çš„äººå¯¹ä½ è¯´:\nNå¹´å‰ä½ æ¥åˆ°äº†è¿™ä¸ªä¸–ç•Œï¼Œ\nNå¹´åä½ æƒ³æ”¹å˜ä¸–ç•Œã€‚\næœŸå¾…ä½ è„šè¸ç¥¥äº‘ï¼Œ\nä¸è‡ªå·±çš„ä»£ç ä¸€èµ·æ”¹å˜ä¸–ç•Œã€‚\nâ€”â€”â€”é€‰è‡ªç™¾åº¦å½©è›‹ğŸ’—'
            console.log(`%c${str}`,"font-size:20px;color:#f40");
            console.log("%cğŸ”¥ å¼€å‘æ—¶é—´è¾ƒçŸ­ï¼ŒBugä¸å¯é¿å…ğŸ”¥ ","font-size:26px;color:#f40");
         $('#forgent').on('click',function(){
             alert('è¯·è”ç³»ç®¡ç†å‘˜');
         })
         $('#name').focus(()=>{
            $('#error').html('ç”¨æˆ·åä¸æ­£ç¡®');
         })
         $('.btn').click(function(){
             var username = $('#name').val();
             var password = $('#pwd').val();
             if(username==''||password==''){
                $('#error').html('ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©º');
                return false;
             }
             var load = document.getElementsByClassName('loading')[0];
             load.style.display="block";
            
             $.ajax({
                 url:'login.php',
                 type:"POST",
                 data: `username=${username}&&password=${password}`,
                 success:function(result){
                   
                      if(result=='true'){
                         
                        setTimeout(function(){
                              var storage=window.localStorage;
                              storage["name"]=username;
                              var animal = localStorage.getItem("name");
                            
                              window.location.href="dome.html";
                              },2000);
                         
                      }else{
                          $('#error').html('ç”¨æˆ·åæˆ–ç€å¯†ç è¾“å…¥é”™è¯¯');
                       
                      }
                    
                    
                 },
                
             })

         })
    })
</script>

</html>